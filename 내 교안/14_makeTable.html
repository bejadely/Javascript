<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- 동적 테이블 생성 -->
    <div>
        이름 : <input type="text" name="name" id="name"><br>
        국어 : <input type="text" name="kor" id="kor"><br>
        영어 : <input type="text" name="eng" id="eng"><br>
        수학 : <input type="text" name="math" id="math">
        <button type='button' id="btn" name="btn">입력</button>
        <button type="button" id="btn2" name='btn2'>총점</button>
    </div>


    <table style="border : 1px solid gray">
        <thead>
            <th>이름</th>
            <th>국어</th>
            <th>영어</th>
            <th>수학</th>
            <th>총점</th>
        </thead>
        <tbody>

        </tbody>
        <script>
            // 입력값을 받아오는 함수를 만들자
            let btn = document.getElementById('btn')

            // btn.addEventListener('click', function(){
            //     let name = document.getElementById('name')
            //     let kor = document.getElementById('kor')
            //     let eng = document.getElementById('eng')
            //     let math = document.getElementById('math')

            //     // tbody DOM 선택
            //     let tbd = document.querySelector('table > tbody')

            //     // td 생성 후 데이터 입력

            //     let nTd = document.createElement('td')
            //     nTd.textContent = name.value; //이름 td 생성 후 이름 input값을 대입함

            //     let kTd = document.createElement('td')
            //     kTd.textContent = kor.value;

            //     let eTd = document.createElement('td')
            //     eTd.textContent = eng.value;
                
            //     let mTd = document.createElement('td')
            //     mTd.textContent = math.value;


            //     //모든 td를 추가해주는 tr 생성

            //     let tr = document.createElement('tr');
                
            //     // tr에다가 생성한 td를 추가
            //     tr.append(nTd, kTd, eTd, mTd);

            //     tbd.appendChild(tr);

            // })

            btn.addEventListener('click', function(){
                let dataList = document.querySelectorAll('div>input[type="text"]') // 인풋타입을 가져올건데, 그중 text인 속성의 애들을 다 가져와라
                // console.log(dataList)

                // 반복문을 활용해서 td 생성 후 tr 추가
                let tr = document.createElement('tr'); //tr을 만들었어
                for(let i=0; i<dataList.length; i++){
                    let td = document.createElement('td');
                    td.textContent = dataList[i].value; // td를 만들고 거기에 각각 값을 입력
                    td.setAttribute("class", `cls${i}`)
                    tr.appendChild(td)
                }
                
                let tbd = document.querySelector('table > tbody')
                tbd.appendChild(tr);
            })

            // btn2.addEventListener('click', function(){
            //     let kRecord = document.querySelectorAll('div>input[type="text"]')
            //     console.log(kRecord)
            // })
            

            let btn2 = document.getElementById('btn2')

            btn2.addEventListener('click', ()=>{
                let trList = document.querySelectorAll('table>tbody>tr')
                // console.log(trList[0]);
                for(let i=0; i<trList.length; i++){
                    let sum = 0;
                    sum = Number(trList[i].children[1].textContent) + Number(trList[i].children[2].textContent) + Number(trList[i].children[3].textContent)
                    let td = document.createElement('td')
                    td. textContent = sum;

                    trList[i].appendChild(td);
                }
            })

        </script>
    </table>
</body>
</html>